# Embedding Servicebot in an existing site/app
You can embed a service template request form or a account management page into any existing website/application

### Request Form Embed

1. Go to "Manage -> Manage Offerings"
1. Click on "Actions -> Embed request form" on the template you would like to embed
1. Copy the HTML given
1. Paste on your existing site where you would like customers to sign up for your subscription
##### Request options
In the init for a request embed, these are the options which can customize the embed

| Attribute        | Type           | Description  |
| ------------- |:-------------:| -----:|
| templateId      | number | Id of the template you want to embed |
| url      | string      |   URL of your servicebot instance |
| selector | [Element](https://developer.mozilla.org/en-US/docs/Web/API/Element)|  The element you want to turn into a form |
| spk | string | Stripe publishable key |
| handleResponse | function(response) | a function which gets called after the subscription has been created |
| forceCard | boolean | if true, the customer will be prompted to enter credit card in order to request service |
| setPassword | boolean | if true, the customer will be asked to enter a password, which you can use to create their account |
| redirect | string | After the subscription has been requested (and after handleResponse if present,) redirect the customer to this location | 

##### Example Request Config
```javascript
    Servicebot.init({
        templateId : 1, 
        url : "http://localhost:3000", 
        selector : document.getElementById('servicebot-request-form'),
        handleResponse : async (response) => { //handleResponse can return a promise to be resolved before redirect happens
            await mySaaS.createAccount(response.request.email, response.request.password)
            console.log(response);
        },
        type: "request",
        spk: "pk_test_2AlebAqTCykOvGc6WGDO5irD", //stripe publishable key
        forceCard : false, 
        setPassword: true,
        redirect: "https://mysaas.com/dashboard"
    })
```

##### Tips
- You can add additional javascript logic in the `handleResponse` function
- If you are using synchronous webhooks, any responses from your endpoints will show up in the `handleResponse` payload
### Manage account Embed (Add/update card and cancel/reactivate subscription)

!!! warning "Note"
    This embed will require code to be placed in your server

1. Go to "Integrations"
1. Click on `Embed to allow customers to manage thier account and billing settings`
1. Select your backend language/framework
1. Place the server code in your server
1. Place the client code on the client, and insert the token from the server when a logged in user visits the page
1. Customers can now add/update a funding source and cancel/reactivate their subscriptions using this page

##### Management options
In the init for a request embed, these are the options which can customize the embed

| Attribute        | Type           | Description  |
| ------------- |:-------------:| -----:|
| url      | string      |   URL of your servicebot instance |
| selector | [Element](https://developer.mozilla.org/en-US/docs/Web/API/Element)|  The element you want to turn into a form |
| handleResponse | function(response) | a function which gets called after billing operations occur |
| token | string | A JSON web token for the user account being managed (generated by the server code) |

##### Example Management Config
```javascript
    Servicebot.init({
        url : "http://localhost:3000", 
        selector : document.getElementById('servicebot-management-form'),
        handleResponse : (response) => { 
            console.log(response);
        },
        type: "manage",
        token: "INSERT_TOKEN_HERE"
    })
```

##### Tips
- If your language/framework is not available, you can use a JSON Web Token library to generate a token, or, using an administrator account, use [this](https://api-docs.servicebot.io/#operation--users--id--token-post) API to get a token for a specific customer
